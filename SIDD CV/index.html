<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>CS Siddheesh | Freelance Web Developer</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&display=swap" rel="stylesheet">
  <link rel="icon" type="image/jpg" href="Assets/logo.jpg">

  <style>
    :root {
      --primary: #ff7a18;
      --dark: #0b0b0b;
      --glass: rgba(255,255,255,0.08);
      --border: rgba(255,255,255,0.18);
      --text-muted: #b5b5b5;
    }

    * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
    html { scroll-behavior: smooth; }
    body { background: var(--dark); color: #fff; }

    /* ===== NAVBAR ===== */
    nav {
      position: fixed; top: 0; left: 0; width: 100%;
      display: flex; justify-content: space-between; align-items: center;
      padding: 15px 10%; backdrop-filter: blur(12px);
      background: rgba(0,0,0,0.6); z-index: 1000;
    }

    nav h2 { color: var(--primary); font-weight: 600; }
    /* clickable site logo */
    .site-logo {
      font-weight: 700; font-size: 1.15rem; text-decoration: none; cursor: pointer; display: inline-block;
      background: linear-gradient(90deg, var(--primary) 0%, #ffb86b 35%, #ffd27a 65%, var(--primary) 100%);
      background-size: 220% 100%; -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent; color: transparent;
      animation: logoGradient 3s linear infinite, logoBounce 1.9s cubic-bezier(.22,.9,.3,1) infinite;
      transition: transform 180ms ease, text-shadow 180ms ease;
      transform-origin: center center; text-shadow: 0 0 12px rgba(255,122,24,0.08);
    }

    /* hover/focus: slightly larger lift and stronger glow */
    .site-logo:hover, .site-logo:focus { transform: translateY(-4px) scale(1.02); text-decoration: none; text-shadow: 0 8px 28px rgba(255,122,24,0.28); }

    @keyframes logoGradient {
      0% { background-position: 0% 50%; }
      100% { background-position: 220% 50%; }
    }

    @keyframes logoBounce {
      0% { transform: translateY(0) scale(1); text-shadow: 0 0 8px rgba(255,122,24,0.06); }
      30% { transform: translateY(-6px) scale(1.06); text-shadow: 0 10px 40px rgba(255,122,24,0.35); }
      60% { transform: translateY(-2px) scale(1.03); text-shadow: 0 6px 26px rgba(255,122,24,0.22); }
      100% { transform: translateY(0) scale(1); text-shadow: 0 0 8px rgba(255,122,24,0.06); }
    }

    /* Respect prefers-reduced-motion: use static primary color and no bounce */
    @media (prefers-reduced-motion: reduce) {
      .site-logo { animation: none; background: none; -webkit-text-fill-color: initial; color: var(--primary); text-shadow: none; transform: none; }
      .site-logo:hover, .site-logo:focus { transform: none; }
    }

    /* nav links wrapper */
    .nav-links { display: flex; align-items: center; gap: 10px; }
    /* Unified nav button appearance (desktop + mobile use same border size) */
    .nav-links a {
      margin-left: 20px; color: var(--primary); font-size: 0.95rem; text-decoration: none;
      display: inline-block; padding: 14px 32px; border-radius: 30px; border: 1px solid var(--primary);
      background: transparent; box-sizing: border-box;
      transition: background 180ms ease, color 180ms ease, box-shadow 180ms ease, transform 260ms cubic-bezier(.2,.9,.3,1);
    }

    /* Hover & focus state: fill with primary and show white text, with lift */
    .nav-links a:hover,
    .nav-links a:focus {
      background: var(--primary); color: #fff; text-decoration: none; box-shadow: 0 10px 30px rgba(0,0,0,0.35); transform: translateX(0) translateY(-3px);
    }

    /* Visible focus ring for keyboard users */
    .nav-links a:focus-visible {
      outline: none; box-shadow: 0 0 0 6px rgba(255,122,24,0.12), 0 10px 30px rgba(0,0,0,0.35);
    }

    /* Buttons lift on hover too */
    .btn:hover, .btn:focus, .btn.outline:hover, .btn.outline:focus, .contact-buttons a:hover, .contact-buttons a:focus {
      transform: translateY(-3px);
    }

    /* hamburger toggle (hidden on desktop) */
    .nav-toggle {
      display: none; background: transparent; border: none; color: #fff; font-size: 1.6rem; cursor: pointer; padding: 6px; line-height: 0;
    }

    /* Animated hamburger (3 bars) */
    .nav-toggle .hamburger { display:inline-block; width:22px; height:16px; position:relative; }
    .nav-toggle .hamburger::before,
    .nav-toggle .hamburger::after,
    .nav-toggle .hamburger span { content: ''; position:absolute; left:0; height:2px; right:0; background: #fff; border-radius:2px; transition: transform 220ms cubic-bezier(.2,.9,.3,1), top 220ms cubic-bezier(.2,.9,.3,1), opacity 180ms ease; }
    .nav-toggle .hamburger::before { top:0; }
    .nav-toggle .hamburger span { top:7px; }
    .nav-toggle .hamburger::after { top:14px; }

    /* Morph to X when open */
    .nav-toggle.open .hamburger span { opacity: 0; transform: translateX(-8px); }
    .nav-toggle.open .hamburger::before { top:7px; transform: rotate(45deg); }
    .nav-toggle.open .hamburger::after { top:7px; transform: rotate(-45deg); }

    /* Mobile behavior */
    @media (max-width: 768px) {
      nav { padding: 12px 5%; }
      .nav-toggle { display: block; }

      /* Right-aligned dropdown that slides in from the right */
      .nav-links {
        position: fixed; top: 64px; right: 5%; left: auto; display: none;
        flex-direction: column; align-items: flex-end; background: rgba(0,0,0,0.95);
        padding: 14px; gap: 10px; z-index: 999; max-width: 360px; min-width: 220px; border-radius: 10px;
        transform: translateX(12px); opacity: 0; transition: transform 260ms cubic-bezier(.2,.9,.3,1), opacity 260ms ease;
      }
      .nav-links.open { display: flex; transform: translateX(0); opacity: 1; }

      /* Links slide in from the right with staggered delays (unified sizing) */
      .nav-links a { display: block; margin: 0; padding: 14px 32px; border-radius: 30px; border: 1px solid var(--primary); background: transparent; color: var(--primary); transform: translateX(14px) translateY(0); opacity: 0; transition: transform 260ms cubic-bezier(.2,.9,.3,1), opacity 260ms ease, background 180ms ease, color 180ms ease, box-shadow 180ms ease; box-sizing: border-box; }
      .nav-links.open a { transform: translateX(0) translateY(0); opacity: 1; }
      .nav-links.open a:nth-child(1) { transition-delay: 0.04s; }
      .nav-links.open a:nth-child(2) { transition-delay: 0.08s; }
      .nav-links.open a:nth-child(3) { transition-delay: 0.12s; }
      .nav-links.open a:nth-child(4) { transition-delay: 0.16s; }

      /* Mobile hover & focus same as desktop â€” with lift */
      .nav-links a:hover,
      .nav-links a:focus { background: var(--primary); color: #fff; box-shadow: 0 10px 30px rgba(0,0,0,0.35); transform: translateX(0) translateY(-3px); }
      .nav-links a:focus-visible { outline: none; box-shadow: 0 0 0 6px rgba(255,122,24,0.12), 0 10px 30px rgba(0,0,0,0.35); }

      /* ensure hero spacing doesn't get hidden behind the fixed nav */
      section { padding-top: 110px; }
    }

    .scroll-bar {
      position: fixed; top: 0; left: 0; height: 4px;
      background: var(--primary); width: 0%; z-index: 2000;
    }

    section { padding: 100px 10%; }

    /* ===== HERO ===== */
    .hero { min-height: 100vh; display: flex; flex-direction: column; justify-content: center; }
    .hero h1 { font-size: 3rem; font-weight: 700; }
    .typing span { color: var(--primary); border-right: 2px solid; padding-right: 4px; }
    .hero p { margin: 20px 0; max-width: 600px; color: var(--text-muted); }

    /* Primary buttons (filled) */
    .btn {
      display: inline-block; padding: 14px 32px; border-radius: 30px;
      background: var(--primary); color: #fff; margin-right: 25px; font-size: 1rem;
      border: 1px solid var(--primary); box-sizing: border-box;
      transition: background 180ms ease, color 180ms ease, box-shadow 180ms ease, transform 120ms ease;
    }

    /* Outline variant starts transparent but uses same sizing */
    .btn.outline { background: transparent; border: 1px solid var(--primary); color: var(--primary); }

    /* Ensure nav and contact buttons follow the same visual behaviour */
    .nav-links a, .contact-buttons a { transition: background 180ms ease, color 180ms ease, box-shadow 180ms ease, transform 120ms ease; }

    /* Hover / Focus: invert to filled primary with white text */
    .btn:hover, .btn:focus,
    .btn.outline:hover, .btn.outline:focus,
    .nav-links a:hover, .nav-links a:focus,
    .contact-buttons a:hover, .contact-buttons a:focus {
      background: var(--primary); color: #fff; text-decoration: none; box-shadow: 0 6px 18px rgba(0,0,0,0.35);
    }

    /* Active / pressed state (subtle inset) */
    .btn:active, .btn.outline:active, .nav-links a:active, .contact-buttons a:active {
      transform: translateY(1px); box-shadow: inset 0 3px 6px rgba(0,0,0,0.2);
    }

    /* Focus visible for keyboard accessibility */
    .btn:focus-visible, .btn.outline:focus-visible, .nav-links a:focus-visible, .contact-buttons a:focus-visible {
      outline: none; box-shadow: 0 0 0 6px rgba(255,122,24,0.12), 0 6px 18px rgba(0,0,0,0.35);
    }

    /* ===== GLASS CARDS ===== */
    .glass {
      background: var(--glass); backdrop-filter: blur(15px);
      border: 1px solid var(--border); border-radius: 18px;
    }

    /* ===== ABOUT ===== */
    .about p { max-width: 800px; color: var(--text-muted); }

    /* ===== SKILLS ===== */
    .skills .bar { margin-bottom: 18px; }
    .skills span { font-size: 0.9rem; }
    .progress {
      height: 10px; background: #222; border-radius: 20px; overflow: hidden;
    }
    .progress div { height: 100%; width: 0; background: var(--primary); transition: width 1.5s ease-out; border-radius: 0 20px 20px 0; }

    /* ===== GRID ===== */
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px,1fr)); gap: 25px; margin-top: 40px; justify-content: center; }

    /* ===== PROJECT IMAGE ===== */
    .project img { width: 100%; border-radius: 12px; margin-bottom: 12px; }

    /* ===== CONTACT ===== */
    .contact-buttons a { margin-right: 15px; padding: 14px 32px; font-size: 1rem; }



    /* ===== SCROLL ANIMATION ===== */
    .reveal { opacity: 0; transform: translateY(50px); transition: 0.8s; }
    .reveal.active { opacity: 1; transform: translateY(0); }

    footer { text-align: center; padding: 25px; color: var(--text-muted); }

    /* Footer animated glow + heartbeat */
    .footer-note {
      display: inline-block; color: #fff; font-weight: 500; letter-spacing: 0.2px;
      transition: text-shadow 200ms ease, transform 200ms ease;
      animation: pulseGlow 3s ease-in-out infinite;
    }

    .footer-note .heart {
      display: inline-block; margin: 0 6px; transform-origin: center center;
      animation: heartbeat 1.6s ease-in-out infinite; font-size: 1em;
      text-shadow: 0 0 10px rgba(255,122,24,0.75);
    }

    @keyframes pulseGlow {
      0% { text-shadow: 0 0 0 rgba(255,122,24,0); transform: translateY(0); }
      50% { text-shadow: 0 0 18px rgba(255,122,24,0.95), 0 0 40px rgba(255,122,24,0.35); transform: translateY(-3px); }
      100% { text-shadow: 0 0 0 rgba(255,122,24,0); transform: translateY(0); }
    }

    @keyframes heartbeat {
      0% { transform: scale(1); }
      25% { transform: scale(1.18); }
      40% { transform: scale(1); }
      100% { transform: scale(1); }
    }

    /* Respect user preference for reduced motion */
    @media (prefers-reduced-motion: reduce) {
      .footer-note, .footer-note .heart { animation: none; }
    }

    @media (max-width: 768px) {
      .hero h1 { font-size: 2.2rem; }
      .btn, .contact-buttons a { padding: 12px 22px; font-size: 0.95rem; }
    }

    /* ===== FORM CARRY (Contact form) ===== */
    .formcarry-container {
      box-sizing: border-box;
      margin: 40px auto 0 auto;
      padding: 0 16px;
      font-family: "Inter", sans-serif;
      font-size: 14px;
      font-weight: 400;
      line-height: 24px;
      letter-spacing: -0.01em;
      width: 100%;
      max-width: 400px;

      /* NORMAL */
      --fc-border-color: #ECEFF9;
      --fc-normal-text-color: #0E0B3D;
      --fc-normal-placeholder-color: #B3B8D0;

      /* PRIMARY COLOR | HSL FORMAT*/
      --fc-primary-color-hue: 18;
      --fc-error-color-hue: 356;
      --fc-primary-hsl: var(--fc-primary-color-hue), 93%, 62%;
      --fc-error-hsl: var(--fc-error-color-hue), 100%, 54%;

      /* HOVER */
      --fc-field-hover-bg-color: #F7F9FC;
      --fc-border-hover-color: #DDE0EE;
      --fc-field-hover-text-color: #B3B8D0;

      --fc-border-active-color: #1463FF;
    }

    .formcarry-container * { box-sizing: border-box; }
    .formcarry-container label { display: block; cursor: pointer; }
    .formcarry-container .formcarry-block:not(:first-child) { margin-top: 16px; }
    .formcarry-container input, .formcarry-container textarea, .formcarry-container select {
      margin-top: 4px; width: 100%; height: 42px; border: 1px solid var(--fc-border-color); box-shadow: 0 1px 2px var(--fc-border-color); color: var(--fc-normal-text-color); border-radius: 10px; padding: 8px 12px; font-family: "Inter", sans-serif; font-size:14px; transition: 125ms background, 125ms color, 125ms box-shadow; }
    .formcarry-container textarea { min-height: 188px; max-width: 100%; padding-top: 12px; }
    .formcarry-container input::placeholder, .formcarry-container textarea::placeholder, .formcarry-container select::placeholder { color: var(--fc-normal-placeholder-color); }
    .formcarry-container input:hover, .formcarry-container textarea:hover, .formcarry-container select:hover { border-color: var(--fc-border-hover-color); background-color: var(--fc-field-hover-bg-color); }
    .formcarry-container input:hover::placeholder, .formcarry-container textarea:hover::placeholder, .formcarry-container select:hover::placeholder { color: var(--fc-field-hover-text-color); }
    .formcarry-container input:focus, .formcarry-container textarea:focus, .formcarry-container select:focus { background-color: #fff; border: 2px solid hsl(var(--fc-primary-hsl)); box-shadow: hsla(var(--fc-primary-hsl), 8%) 0px 0px 0px 3px; outline: none; }
    .formcarry-container input:focus, .formcarry-container select:focus { padding: 8px 11px; }
    .formcarry-container textarea:focus { padding: 11px; }
    .formcarry-container select { background-size: 24px 24px; background-position: 98%; background-repeat: no-repeat; appearance: none; -webkit-appearance: none; }
    .formcarry-container button { font-family: "Inter", sans-serif; font-weight: 500; font-size: 14px; letter-spacing: -0.02em; height: 40px; line-height: 24px; width: 100%; border: 0; border-radius: 10px; box-sizing: border-box; background-color: #FF7A18; color: #fff; cursor: pointer; box-shadow: 0 0 0 0 transparent; transition: 125ms all; }
    .formcarry-container button:hover { background: linear-gradient(0deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), hsla(var(--fc-primary-hsl)); }
    .formcarry-container button:focus { background: linear-gradient(0deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), hsla(var(--fc-primary-hsl)); border-inline: 1px solid rgba(255, 255, 255, 0.6); box-shadow: 0px 0px 0px 3px rgba(var(--fc-primary-hsl), 0.12); }
    .formcarry-container button:active { background: linear-gradient(0deg, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2)), hsla(var(--fc-primary-hsl)); }
    .formcarry-container button:disabled { background-color: hsla(var(--fc-primary-hsl), 40%); cursor: not-allowed; }
    .formcarry-container input:focus:required:invalid, .formcarry-container input:focus:invalid, .formcarry-container select:focus:required:invalid, .formcarry-container select:focus:invalid { color: hsl(var(--fc-error-hsl)); border-color: hsl(var(--fc-error-hsl)); box-shadow: 0px 0px 0px 3px hsla(var(--fc-error-hsl), 12%); }

    /* ===== CUSTOM SUCCESS POPUP ===== */
    .popup-overlay {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.8); backdrop-filter: blur(5px);
      display: none; justify-content: center; align-items: center; z-index: 3000;
      animation: fadeIn 0.3s ease-out;
    }

    .popup-content {
      background: var(--glass); backdrop-filter: blur(15px);
      border: 1px solid var(--border); border-radius: 18px;
      padding: 30px; text-align: center; max-width: 350px; width: 90%;
      box-shadow: 0 20px 40px rgba(0,0,0,0.5);
      animation: slideUp 0.4s ease-out;
    }

    .popup-icon {
      font-size: 3rem; margin-bottom: 15px;
      animation: bounceIn 0.6s ease-out;
    }

    .popup-content h3 {
      color: var(--primary); font-size: 1.5rem; margin-bottom: 10px;
    }

    .popup-content p {
      color: var(--text-muted); margin-bottom: 20px;
    }

    .popup-close {
      background: var(--primary); color: #fff; border: none;
      padding: 10px 20px; border-radius: 25px; cursor: pointer;
      font-size: 1rem; transition: transform 0.2s ease;
    }

    .popup-close:hover {
      transform: translateY(-2px);
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideUp {
      from { transform: translateY(50px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    @keyframes bounceIn {
      0% { transform: scale(0.3); opacity: 0; }
      50% { transform: scale(1.05); }
      70% { transform: scale(0.9); }
      100% { transform: scale(1); opacity: 1; }
    }

    /* ===== BACK TO TOP ===== */
    .back-to-top {
      position: fixed;
      left: 20px;
      bottom: 20px;
      width: 50px;
      height: 50px;
      background: var(--primary);
      color: #fff;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      text-decoration: none;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
      z-index: 1000;
    }

    .back-to-top.show {
      opacity: 1;
      visibility: visible;
    }

    /* Mobile optimization */
    @media (max-width: 768px) {
      .back-to-top {
        right: 20px;
        left: auto;
        width: 45px;
        height: 45px;
        font-size: 1.3rem;
      }
    }
  </style>
</head>
<body id="top">

<div class="scroll-bar" id="scrollBar"></div>

<a href="#top" id="backToTop" class="back-to-top">â†‘</a>

<nav>
  <a href="#top" class="site-logo" aria-label="Go to top">CS Siddheesh</a>
  <button class="nav-toggle" aria-label="Toggle navigation" aria-expanded="false">
    <span class="hamburger" aria-hidden="true"><span></span></span>
  </button>
  <div class="nav-links" id="navLinks" aria-hidden="true">
    <a href="#about" class="btn outline">About</a>
    <a href="#skills" class="btn outline">Skills</a>
    <a href="#projects" class="btn outline">Projects</a>
    <a href="#contact" class="btn outline">Contact</a>
  </div>
</nav>

<section class="hero">
  <h1 class="typing">I Build <span id="type"></span></h1>
  <p>Freelance web developer creating modern websites using HTML, CSS & AI tools.</p>
  <a href="#contact" class="btn outline">Hire Me</a><br>
  <a href="#projects" class="btn outline">View Work</a>
</section>

<section id="about" class="about reveal">
  <h2>About Me</h2>
  <p>Hi, Iâ€™m CS Siddheesh â€” a Class 11 PCM student and freelance web developer. I build clean, responsive websites using modern design and AI tools.</p>
</section>

<section id="skills" class="skills reveal">
  <h2>Skills</h2>
  <div class="bar"><span>HTML</span><div class="progress"><div data-width="90%"></div></div></div>
  <div class="bar"><span>CSS</span><div class="progress"><div data-width="85%"></div></div></div>
  <div class="bar"><span>Python</span><div class="progress"><div data-width="60%"></div></div></div>
  <div class="bar"><span>Bash</span><div class="progress"><div data-width="40%"></div></div></div>
  <div class="bar"><span>AI</span><div class="progress"><div data-width="95%"></div></div></div>
</section>

<section id="projects" class="reveal">
  <h2>Projects</h2>
  <div class="grid">
    <div class="glass project">
      <img src="Assets/bussiness preview.png" alt="Business Website">
      <h3>Business Website</h3>
      <a href="https://prajilanguagecenter.netlify.app/" target="_blank" class="btn">Preview Project</a>
    </div>
    <div class="glass project">
      <img src="Assets/portfolio preview.png" alt="Portfolio Project">
      <h3>Portfolio Website</h3>
      <a href="https://prajilanguagecenter.netlify.app/" target="_blank" class="btn">Preview Project</a>
    </div>
  </div>
</section>

<section id="contact" class="reveal">
  <h2>Contact Me</h2>
  <div class="contact-buttons">
    <a class="btn" href="mailto:cssiddheesh@gmail.com">Email</a>
    <a class="btn outline" href="https://instagram.com/cssiddheesh" target="_blank">Instagram</a>
  </div>
</section>

<!-- Contact form (Formspree) -->
<section class="formcarry-container">
  <form action="https://formspree.io/f/mpqroneo" method="POST" enctype="multipart/form-data">

    <div class="formcarry-block">
      <label for="fc-generated-1-name">Full Name</label>
      <input type="text" name="name" id="fc-generated-1-name" placeholder="Your first and last name" required autocomplete="name" />
    </div>

    <div class="formcarry-block">
      <label for="fc-generated-1-email">Your Email Address</label>
      <input type="email" name="email" id="fc-generated-1-email" placeholder="john@doe.com" required autocomplete="email" />
    </div>

    <div class="formcarry-block">
      <label for="fc-generated-1-number">Phone Number</label>
      <input type="tel" name="number" id="fc-generated-1-number" placeholder="+91xxxxxxxxxx" required autocomplete="tel" />
    </div>

    <div class="formcarry-block">
      <label for="fc-generated-1-message">Your Message</label>
      <textarea name="message" id="fc-generated-1-message" placeholder="Enter your message..." required></textarea>
    </div>

    <div class="formcarry-block">
      <button type="submit">Send</button>
    </div>

  </form>
</section>

<!-- Custom Success Popup -->
<div id="successPopup" class="popup-overlay">
  <div class="popup-content">
    <div class="popup-icon">âœ…</div>
    <h3>Thank You!</h3>
    <p>We will contact you in 2 business days.</p>
    <button class="popup-close">OK</button>
  </div>
</div>

<footer><a href="https://cssiddheesh.netlify.app/" class="footer-link"><span class="footer-note">Made with <span class="heart" aria-hidden="true">ðŸ’–</span> by CS Siddheesh Â© <span id="year"></span></span></a></footer>



<script>
  document.getElementById('year').innerText = new Date().getFullYear();

  // Typing Effect
  const text = "Clean & Modern Websites";
  let i = 0;
  function type() { if(i < text.length){ document.getElementById('type').innerHTML += text.charAt(i); i++; setTimeout(type, 80);} }
  type();

  // Scroll reveal & progress bars & scroll indicator & back to top
  const reveals = document.querySelectorAll('.reveal');
  const backToTop = document.getElementById('backToTop');
  window.addEventListener('scroll', () => {
    reveals.forEach(el => { if(el.getBoundingClientRect().top < window.innerHeight - 100) el.classList.add('active'); });
    document.querySelectorAll('.progress div').forEach(bar => { if(bar.getBoundingClientRect().top < window.innerHeight - 50) bar.style.width = bar.dataset.width; });
    const scroll = document.documentElement.scrollTop;
    const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
    document.getElementById('scrollBar').style.width = (scroll/height)*100 + '%';
    if (backToTop) {
      if (scroll > 300) {
        backToTop.classList.add('show');
      } else {
        backToTop.classList.remove('show');
      }
    }
  });

  // ===== Responsive nav toggle =====
  const navToggle = document.querySelector('.nav-toggle');
  const navLinks = document.getElementById('navLinks');
  if (navToggle && navLinks) {
    navToggle.addEventListener('click', () => {
      const isOpen = navLinks.classList.toggle('open');
      navLinks.setAttribute('aria-hidden', String(!isOpen));
      navToggle.setAttribute('aria-expanded', String(isOpen));
      navToggle.classList.toggle('open', isOpen);
    });

    // Close mobile menu when a link is clicked
    document.querySelectorAll('.nav-links a').forEach(a => a.addEventListener('click', () => {
      if (navLinks.classList.contains('open')) {
        navLinks.classList.remove('open');
        navLinks.setAttribute('aria-hidden', 'true');
        navToggle.setAttribute('aria-expanded', 'false');
        navToggle.classList.remove('open');
      }
    }));

    // Ensure menu closes when resizing to desktop
    window.addEventListener('resize', () => {
      if (window.innerWidth > 768 && navLinks.classList.contains('open')) {
        navLinks.classList.remove('open');
        navLinks.setAttribute('aria-hidden', 'true');
        navToggle.setAttribute('aria-expanded', 'false');
        navToggle.classList.remove('open');
      }
    });
  }

  // ===== Form submission handling =====
  const form = document.querySelector('form[action="https://formspree.io/f/mpqroneo"]');
  if (form) {
    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      const formData = new FormData(form);
      try {
        const response = await fetch(form.action, {
          method: 'POST',
          body: formData,
          headers: {
            'Accept': 'application/json'
          }
        });
        if (response.ok) {
          showSuccessPopup();
          form.reset();
        } else {
          alert('Form submission failed.');
        }
      } catch (error) {
        alert('An error occurred.');
      }
    });
  }

  // ===== Success popup functions =====
  function showSuccessPopup() {
    const popup = document.getElementById('successPopup');
    popup.style.display = 'flex';
  }

  function hideSuccessPopup() {
    const popup = document.getElementById('successPopup');
    popup.style.display = 'none';
  }

  // Close popup when OK button is clicked
  document.querySelector('.popup-close').addEventListener('click', hideSuccessPopup);

  // Close popup when clicking outside the content
  document.getElementById('successPopup').addEventListener('click', (e) => {
    if (e.target === e.currentTarget) {
      hideSuccessPopup();
    }
  });

</script>

<script src="https://formspree.io/js/formbutton-v1.min.js" defer></script>
<script>
   window.formbutton=window.formbutton||function(){(formbutton.q=formbutton.q||[]).push(arguments)};
   formbutton("create", {action: "https://formspree.io/f/mpqroneo"})
</script>

</body>
</html>
